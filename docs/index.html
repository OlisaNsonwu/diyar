<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Record Linkage and Epidemiological Case Definitions in R â€¢ diyar</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Record Linkage and Epidemiological Case Definitions in R">
<meta property="og:description" content="An R package for record linkage and implementing epidemiological case definitions in R.
    Record linkage is implemented either through a multistage deterministic approach or a probabilistic approach. 
    Matching records are assigned to unique groups. There are mechanisms to address missing data and conflicting matches across linkage stages.
    Track and assign events (e.g. sample collection) and periods (e.g. hospital admission) to unique groups based on a case definition. 
    The tracking process permits several options such as episode lengths and recurrence.
    Duplicate events or records can then be identified for removal or further analyses.  ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">diyar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/episodes.html">Introduction to epidemiological case definitions with diyar</a>
    </li>
    <li>
      <a href="articles/links.html">Introduction to record linkage with diyar</a>
    </li>
    <li>
      <a href="articles/number_line.html">number_line and overlaps</a>
    </li>
    <li>
      <a href="articles/panes.html">Divvy up events with partitions</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/OlisaNsonwu/diyar/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="diyar">diyar<a class="anchor" aria-label="anchor" href="#diyar"></a>
</h1></div>
<p><a href="https://cran.r-project.org/package=diyar" class="external-link"><img src="http://www.r-pkg.org/badges/version/diyar" alt="CRAN version"></a> <a href="https://www.r-pkg.org/pkg/diyar" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/diyar" alt="CRAN RStudio mirror downloads"></a> <a href="https://codecov.io/github/OlisaNsonwu/diyar?branch=master" class="external-link"><img src="https://codecov.io/gh/OlisaNsonwu/diyar/branch/master/graph/badge.svg" alt="Coverage status"></a> <a href="https://travis-ci.org/OlisaNsonwu/diyar" class="external-link"><img src="https://travis-ci.org/OlisaNsonwu/diyar.svg?branch=master" alt="Travis build status"></a></p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install the latest CRAN release </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"diyar"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or, install the development version from GitHub</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"OlisaNsonwu/diyar"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><code>diyar</code> is an <code>R</code> package for linking records with shared characteristics. The linked records represent an entity, which depending on the context of the analysis can represent unique patients, infection episodes, overlapping periods of care, clusters or other occurrences as defined by a case definition. Each entity is assigned an uniquely identifiable number. This makes it useful in ordinarily complex analyses such as record linkage,<br>
contact or network analyses e.t.c.</p>
<p>The main functions <code><a href="reference/links.html">links()</a></code>, <code><a href="reference/episodes.html">episodes()</a></code> and <code><a href="reference/partitions.html">partitions()</a></code>. They are flexible in terms of what and how they compare records, as well as what are considered matches. Their functionality can sometimes overlap however, each is better suited to particular use cases:</p>
<ul>
<li>
<code><a href="reference/links.html">links()</a></code> - link records with no relevance to an index record. For example, deterministic record linkage</li>
<li>
<code><a href="reference/episodes.html">episodes()</a></code> - link records in relation to an index record. For example, contact and network analysis.<br>
</li>
<li>
<code><a href="reference/partitions.html">partitions()</a></code> - link records in relation to a fixed interval.</li>
</ul>
</div>
<div class="section level2">
<h2 id="links">links()<a class="anchor" aria-label="anchor" href="#links"></a>
</h2>
<p><strong>Key features;</strong></p>
<ul>
<li>multi-stage record linkage. Here, multiple linkage criteria are assessed in a specified order of priority.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://olisansonwu.github.io/diyar/index.html" class="external-link">diyar</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">missing_staff_id</span><span class="op">)</span></span>
<span><span class="va">dfr_stages</span> <span class="op">&lt;-</span> <span class="va">missing_staff_id</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>, <span class="st">"hair_colour"</span>, <span class="st">"branch_office"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="va">priority_order_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"hair_colour"</span>, <span class="st">"branch_office"</span><span class="op">)</span></span>
<span><span class="va">priority_order_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"branch_office"</span>, <span class="st">"hair_colour"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dfr_stages</span><span class="op">$</span><span class="va">id.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/links.html">links</a></span><span class="op">(</span>criteria <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="va">dfr_stages</span><span class="op">[</span><span class="va">priority_order_1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">dfr_stages</span><span class="op">$</span><span class="va">id.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/links.html">links</a></span><span class="op">(</span>criteria <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">as.list</a></span><span class="op">(</span><span class="va">dfr_stages</span><span class="op">[</span><span class="va">priority_order_2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>create and use complex rules for record matching. This is done with a <code><a href="reference/sub_criteria.html">sub_criteria()</a></code>.</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sub.cri.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sub_criteria.html">sub_criteria</a></span><span class="op">(</span></span>
<span>  hair.color <span class="op">=</span> <span class="va">dfr_stages</span><span class="op">$</span><span class="va">hair_colour</span>,</span>
<span>  age <span class="op">=</span> <span class="va">dfr_stages</span><span class="op">$</span><span class="va">age</span>,</span>
<span>  match_funcs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"exact"</span> <span class="op">=</span> <span class="va">exact_match</span>,</span>
<span>    <span class="st">"age.range"</span> <span class="op">=</span> <span class="va">range_match</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">last_word_wf</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">tolower</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">gsub</a></span><span class="op">(</span><span class="st">"^.* "</span>, <span class="st">""</span>, <span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">last_word_cmp</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="fu">last_word_wf</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">==</span> <span class="fu">last_word_wf</span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span><span class="va">not_equal</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="va">x</span> <span class="op">!=</span> <span class="va">y</span></span>
<span><span class="va">sub.cri.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sub_criteria.html">sub_criteria</a></span><span class="op">(</span></span>
<span>  <span class="va">dfr_stages</span><span class="op">$</span><span class="va">branch_office</span>, </span>
<span>  <span class="va">dfr_stages</span><span class="op">$</span><span class="va">age</span>,</span>
<span>  match_funcs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>    <span class="st">"last.word"</span> <span class="op">=</span> <span class="va">last_word_cmp</span>,</span>
<span>    <span class="st">"not.equal"</span> <span class="op">=</span> <span class="va">not_equal</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">sub.cri.3</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/sub_criteria.html">sub_criteria</a></span><span class="op">(</span><span class="va">sub.cri.1</span>, <span class="va">sub.cri.2</span>, operator <span class="op">=</span> <span class="st">"and"</span><span class="op">)</span></span>
<span><span class="va">sub.cri.1</span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt; exact(hair.color) OR age.range(age)</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="va">sub.cri.2</span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt; last.word(Republic of Ghana,France ...) OR not.equal(30,30 ...)</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="va">sub.cri.3</span></span>
<span><span class="co">#&gt; {</span></span>
<span><span class="co">#&gt;   {</span></span>
<span><span class="co">#&gt;   exact(hair.color) OR age.range(age)</span></span>
<span><span class="co">#&gt;   } AND </span></span>
<span><span class="co">#&gt;   {</span></span>
<span><span class="co">#&gt;   last.word(Republic of Ghana,France ...) OR not.equal(30,30 ...)</span></span>
<span><span class="co">#&gt;   }</span></span>
<span><span class="co">#&gt; }</span></span>
<span><span class="va">dfr_stages</span><span class="op">$</span><span class="va">id.3</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/links.html">links</a></span><span class="op">(</span></span>
<span>  criteria <span class="op">=</span> <span class="st">"place_holder"</span>,</span>
<span>  sub_criteria <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"cr1"</span> <span class="op">=</span> <span class="va">sub.cri.3</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">dfr_stages</span></span>
<span><span class="co">#&gt;   age hair_colour     branch_office          id.1          id.2          id.3</span></span>
<span><span class="co">#&gt; 1  30       Brown Republic of Ghana P.1 (CRI 001) P.1 (CRI 001) P.1 (CRI 001)</span></span>
<span><span class="co">#&gt; 2  30        Teal            France P.4 (CRI 002) P.2 (CRI 001) P.2 (CRI 001)</span></span>
<span><span class="co">#&gt; 3  30        &lt;NA&gt;              &lt;NA&gt; P.3 (No hits) P.3 (No hits) P.3 (No hits)</span></span>
<span><span class="co">#&gt; 4  30       Green              &lt;NA&gt; P.4 (CRI 001) P.2 (CRI 002) P.4 (No hits)</span></span>
<span><span class="co">#&gt; 5  30       Green            France P.4 (CRI 001) P.2 (CRI 001) P.2 (CRI 001)</span></span>
<span><span class="co">#&gt; 6  30  Dark brown             Ghana P.6 (No hits) P.6 (No hits) P.1 (CRI 001)</span></span>
<span><span class="co">#&gt; 7  30       Brown Republic of Ghana P.1 (CRI 001) P.1 (CRI 001) P.1 (CRI 001)</span></span></code></pre></div>
<p>There are variations of <code><a href="reference/links.html">links()</a></code> like <code><a href="reference/links_wf.html">links_wf_probabilistic()</a></code> and <code><a href="reference/links_wf.html">links_sv_probabilistic()</a></code> for specific use cases such as probabilistic record linkage.</p>
</div>
<div class="section level2">
<h2 id="episodes">episodes()<a class="anchor" aria-label="anchor" href="#episodes"></a>
</h2>
<p><strong>Key features;</strong></p>
<ul>
<li>link records within a specified period from an index record.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dfr_2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2020-01-01"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">:</span><span class="fl">15</span>, <span class="fl">20</span><span class="op">:</span><span class="fl">25</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">dfr_2</span><span class="op">$</span><span class="va">id.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/episodes.html">episodes</a></span><span class="op">(</span></span>
<span>  date <span class="op">=</span> <span class="va">dfr_2</span><span class="op">$</span><span class="va">date</span>, case_length <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  episodes_max <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>change the index record.</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dfr_2</span><span class="op">$</span><span class="va">pref</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">8</span><span class="op">)</span>, <span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">8</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">dfr_2</span><span class="op">$</span><span class="va">id.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/episodes.html">episodes</a></span><span class="op">(</span></span>
<span>  date <span class="op">=</span> <span class="va">dfr_2</span><span class="op">$</span><span class="va">date</span>, case_length <span class="op">=</span> <span class="fu"><a href="reference/number_line.html">number_line</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  episodes_max <span class="op">=</span> <span class="fl">1</span>, </span>
<span>  custom_sort <span class="op">=</span> <span class="va">dfr_2</span><span class="op">$</span><span class="va">pref</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>add a recurrence period</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dfr_2</span><span class="op">$</span><span class="va">id.3</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/episodes.html">episodes</a></span><span class="op">(</span></span>
<span>  date <span class="op">=</span> <span class="va">dfr_2</span><span class="op">$</span><span class="va">date</span>, case_length <span class="op">=</span> <span class="fu"><a href="reference/number_line.html">number_line</a></span><span class="op">(</span><span class="op">-</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span>, </span>
<span>  episode_type <span class="op">=</span> <span class="st">"rolling"</span>, recurrence_length <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  episodes_max <span class="op">=</span> <span class="fl">1</span>, rolls_max <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>link overlaping periods</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dfr_2</span><span class="op">$</span><span class="va">period</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/number_line.html">number_line</a></span><span class="op">(</span><span class="va">dfr_2</span><span class="op">$</span><span class="va">date</span>, <span class="va">dfr_2</span><span class="op">$</span><span class="va">date</span> <span class="op">+</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">dfr_2</span><span class="op">$</span><span class="va">id.4</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/episodes.html">episodes</a></span><span class="op">(</span></span>
<span>  date <span class="op">=</span> <span class="va">dfr_2</span><span class="op">$</span><span class="va">period</span>, case_length <span class="op">=</span> <span class="fu"><a href="reference/windows.html">index_window</a></span><span class="op">(</span><span class="va">dfr_2</span><span class="op">$</span><span class="va">period</span><span class="op">)</span>,</span>
<span>  episodes_max <span class="op">=</span> <span class="fl">1</span>, rolls_max <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">dfr_2</span></span>
<span><span class="co">#&gt;          date     id.1 pref     id.2     id.3                   period     id.4</span></span>
<span><span class="co">#&gt; 1  2020-01-02 E.01 (C)    2 E.01 (S) E.01 (C) 2020-01-02 -&gt; 2020-01-07 E.01 (C)</span></span>
<span><span class="co">#&gt; 2  2020-01-03 E.01 (D)    2 E.02 (S) E.01 (D) 2020-01-03 -&gt; 2020-01-08 E.01 (D)</span></span>
<span><span class="co">#&gt; 3  2020-01-04 E.01 (D)    2 E.03 (S) E.01 (D) 2020-01-04 -&gt; 2020-01-09 E.01 (D)</span></span>
<span><span class="co">#&gt; 4  2020-01-05 E.04 (S)    2 E.04 (S) E.01 (R) 2020-01-05 -&gt; 2020-01-10 E.01 (D)</span></span>
<span><span class="co">#&gt; 5  2020-01-06 E.05 (S)    2 E.05 (S) E.05 (S) 2020-01-06 -&gt; 2020-01-11 E.01 (D)</span></span>
<span><span class="co">#&gt; 6  2020-01-11 E.06 (S)    2 E.06 (S) E.06 (S) 2020-01-11 -&gt; 2020-01-16 E.06 (S)</span></span>
<span><span class="co">#&gt; 7  2020-01-12 E.07 (S)    2 E.09 (D) E.07 (S) 2020-01-12 -&gt; 2020-01-17 E.07 (S)</span></span>
<span><span class="co">#&gt; 8  2020-01-13 E.08 (S)    2 E.09 (D) E.08 (S) 2020-01-13 -&gt; 2020-01-18 E.08 (S)</span></span>
<span><span class="co">#&gt; 9  2020-01-14 E.09 (S)    1 E.09 (C) E.09 (S) 2020-01-14 -&gt; 2020-01-19 E.09 (S)</span></span>
<span><span class="co">#&gt; 10 2020-01-15 E.10 (S)    2 E.09 (D) E.10 (S) 2020-01-15 -&gt; 2020-01-20 E.10 (S)</span></span>
<span><span class="co">#&gt; 11 2020-01-16 E.11 (S)    2 E.09 (D) E.11 (S) 2020-01-16 -&gt; 2020-01-21 E.11 (S)</span></span>
<span><span class="co">#&gt; 12 2020-01-21 E.12 (S)    2 E.12 (S) E.12 (S) 2020-01-21 -&gt; 2020-01-26 E.12 (S)</span></span>
<span><span class="co">#&gt; 13 2020-01-22 E.13 (S)    2 E.13 (S) E.13 (S) 2020-01-22 -&gt; 2020-01-27 E.13 (S)</span></span>
<span><span class="co">#&gt; 14 2020-01-23 E.14 (S)    2 E.14 (S) E.14 (S) 2020-01-23 -&gt; 2020-01-28 E.14 (S)</span></span>
<span><span class="co">#&gt; 15 2020-01-24 E.15 (S)    2 E.15 (S) E.15 (S) 2020-01-24 -&gt; 2020-01-29 E.15 (S)</span></span>
<span><span class="co">#&gt; 16 2020-01-25 E.16 (S)    2 E.16 (S) E.16 (S) 2020-01-25 -&gt; 2020-01-30 E.16 (S)</span></span>
<span><span class="co">#&gt; 17 2020-01-26 E.17 (S)    2 E.17 (S) E.17 (S) 2020-01-26 -&gt; 2020-01-31 E.17 (S)</span></span></code></pre></div>
<p>There are variations of <code><a href="reference/episodes.html">episodes()</a></code> like <code><a href="reference/episodes_wf_splits.html">episodes_wf_splits()</a></code> for specific use cases such as more efficient handling of duplicate records.</p>
</div>
<div class="section level2">
<h2 id="partitions">partitions()<a class="anchor" aria-label="anchor" href="#partitions"></a>
</h2>
<p><strong>Key features;</strong></p>
<ul>
<li>link all records within a specific periods in time</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dfr_3</span> <span class="op">&lt;-</span> <span class="va">dfr_2</span><span class="op">[</span><span class="st">"date"</span><span class="op">]</span></span>
<span><span class="va">dfr_3</span><span class="op">$</span><span class="va">id.1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/partitions.html">partitions</a></span><span class="op">(</span></span>
<span>  date <span class="op">=</span> <span class="va">dfr_3</span><span class="op">$</span><span class="va">date</span>, </span>
<span>  window <span class="op">=</span> <span class="fu"><a href="reference/number_line.html">number_line</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2020-01-10"</span>, <span class="st">"2020-01-17"</span><span class="op">)</span><span class="op">)</span>, </span>
<span>                       <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2020-01-12"</span>, <span class="st">"2020-01-24"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<ul>
<li>link all records within a splits of an interval</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dfr_3</span><span class="op">$</span><span class="va">id.2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/partitions.html">partitions</a></span><span class="op">(</span>date <span class="op">=</span> <span class="va">dfr_3</span><span class="op">$</span><span class="va">date</span>, by <span class="op">=</span> <span class="fl">3</span>, separate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> </span>
<span><span class="va">dfr_3</span><span class="op">$</span><span class="va">id.3</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/partitions.html">partitions</a></span><span class="op">(</span>date <span class="op">=</span> <span class="va">dfr_3</span><span class="op">$</span><span class="va">date</span>, length.out <span class="op">=</span> <span class="fl">3</span>, separate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">dfr_3</span></span>
<span><span class="co">#&gt;          date      id.1      id.2      id.3</span></span>
<span><span class="co">#&gt; 1  2020-01-02 PN.01 (S) PN.01 (I) PN.01 (I)</span></span>
<span><span class="co">#&gt; 2  2020-01-03 PN.02 (S) PN.01 (D) PN.01 (D)</span></span>
<span><span class="co">#&gt; 3  2020-01-04 PN.03 (S) PN.01 (D) PN.01 (D)</span></span>
<span><span class="co">#&gt; 4  2020-01-05 PN.04 (S) PN.04 (I) PN.01 (D)</span></span>
<span><span class="co">#&gt; 5  2020-01-06 PN.05 (S) PN.04 (D) PN.01 (D)</span></span>
<span><span class="co">#&gt; 6  2020-01-11 PN.06 (I) PN.06 (I) PN.06 (I)</span></span>
<span><span class="co">#&gt; 7  2020-01-12 PN.06 (D) PN.06 (D) PN.06 (D)</span></span>
<span><span class="co">#&gt; 8  2020-01-13 PN.08 (S) PN.06 (D) PN.06 (D)</span></span>
<span><span class="co">#&gt; 9  2020-01-14 PN.09 (S) PN.09 (I) PN.06 (D)</span></span>
<span><span class="co">#&gt; 10 2020-01-15 PN.10 (S) PN.09 (D) PN.06 (D)</span></span>
<span><span class="co">#&gt; 11 2020-01-16 PN.11 (S) PN.09 (D) PN.06 (D)</span></span>
<span><span class="co">#&gt; 12 2020-01-21 PN.06 (D) PN.12 (I) PN.12 (I)</span></span>
<span><span class="co">#&gt; 13 2020-01-22 PN.06 (D) PN.12 (D) PN.12 (D)</span></span>
<span><span class="co">#&gt; 14 2020-01-23 PN.06 (D) PN.14 (I) PN.12 (D)</span></span>
<span><span class="co">#&gt; 15 2020-01-24 PN.06 (D) PN.14 (D) PN.12 (D)</span></span>
<span><span class="co">#&gt; 16 2020-01-25 PN.16 (S) PN.14 (D) PN.12 (D)</span></span>
<span><span class="co">#&gt; 17 2020-01-26 PN.17 (S) PN.14 (D) PN.12 (D)</span></span></code></pre></div>
<p>Other useful functions include in the <code>diyar</code> package include <code><a href="reference/combi.html">combi()</a></code> and <code><a href="reference/make_pairs.html">sets()</a></code>.</p>
<p>Find out more!</p>
<ul>
<li><a href="articles/number_line.html">number_line and overlaps</a></li>
<li><a href="articles/episodes.html">Introduction to epidemiological case definitions with diyar</a></li>
<li><a href="articles/links.html">Introduction to record linkage with diyar</a></li>
<li><a href="articles/panes.html">Divvy up events with partitions</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="bugs-and-issues">Bugs and issues<a class="anchor" aria-label="anchor" href="#bugs-and-issues"></a>
</h2>
<p>Please report any bug or issues with using this package <a href="https://github.com/OlisaNsonwu/diyar/issues" class="external-link">here</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=diyar" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/OlisaNsonwu/diyar/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/OlisaNsonwu/diyar/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing diyar</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Olisaeloka Nsonwu <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Olisaeloka Nsonwu.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
