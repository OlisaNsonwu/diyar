<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>diyar at a glance • diyar</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="diyar at a glance">
<meta property="og:description" content="diyar">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">diyar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/episodes.html">Introduction to epidemiological case definitions with diyar</a>
    </li>
    <li>
      <a href="../articles/links.html">Introduction to record linkage with diyar</a>
    </li>
    <li>
      <a href="../articles/number_line.html">number_line and overlaps</a>
    </li>
    <li>
      <a href="../articles/overview.html">diyar at a glance</a>
    </li>
    <li>
      <a href="../articles/panes.html">Divvy up events with partitions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/OlisaNsonwu/diyar/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="overview_files/header-attrs-2.8/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>diyar at a glance</h1>
            
            <h4 class="date">04 December 2021</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/OlisaNsonwu/diyar/blob/master/vignettes/overview.Rmd"><code>vignettes/overview.Rmd</code></a></small>
      <div class="hidden name"><code>overview.Rmd</code></div>

    </div>

    
    
<div id="overview" class="section level1">
<h1 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h1>
<p><code>diyar</code> is a data analytical package for linking records with shared characteristics. Linked records represent an entity, which depending on the context can range from unique patients or occurrences as defined by a case definition. Each entity is assigned to unique group with identifiers. These identifiers are stored as an <code>S4</code> class with useful information about each group in their slots.</p>
<p>The package is capable of assessing and comparing an entity’s characteristics in several ways, making it useful in ordinarily complex analyses such as record linkage and contact or network analyses, or the application of case definitions.</p>
<p>The main functions are <code><a href="../reference/links.html">links()</a></code> and <code><a href="../reference/link_records.html">link_records()</a></code>, <code><a href="../reference/episodes.html">episodes()</a></code> and <code><a href="../reference/partitions.html">partitions()</a></code>. These functions are very flexible in terms of what and how they compare the record’s characteristics, as well as what are considered matches. Although each is best suited to certain use cases, their functionalities can sometimes overlap.</p>
<ul>
<li>
<code><a href="../reference/links.html">links()</a></code> and <code>link_record()</code> - compare records without a temporal aspect to them. For example, record linkage</li>
<li>
<code><a href="../reference/episodes.html">episodes()</a></code> - compare records with a temporal aspect to them, while factoring the duration between individual records. For example, contact and network analysis.<br>
</li>
<li>
<code><a href="../reference/partitions.html">partitions()</a></code> - compare records with a temporal aspect to them, without factoring the duration between individual records. For example, application of case definitions.</li>
</ul>
<!-- It's worth noting that `links()` and `episodes()` are iterative (loops) functions.  --><!-- At their core, they are simply repeating comparisons of an index record against others.  -->
</div>
<div id="record-linkage" class="section level1">
<h1 class="hasAnchor">
<a href="#record-linkage" class="anchor"></a>Record linkage</h1>
<div id="links" class="section level2">
<h2 class="hasAnchor">
<a href="#links" class="anchor"></a>links</h2>
<p>Primarily used for multi-stage record linkage. Here, records are compared and linked based on different matching criteria over multiple stages. The priority of matches decreases with each stage, that is; a match at one stage (and thus criteria) is considered more relevant than a match at the next stage. As a result, changing the order of each stage or criteria is akin to a different linkage strategy and can lead to different outcomes. This is demonstrated below with 2-step linkages of the <code>missing_staff_id</code> sample dataset.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">diyar</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="no">missing_staff_id</span>)
<span class="no">dfr_stages</span> <span class="kw">&lt;-</span> <span class="no">missing_staff_id</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"age"</span>, <span class="st">"hair_colour"</span>, <span class="st">"branch_office"</span>, <span class="st">"source_1"</span>)]
<span class="co"># Matching `hair_colour` before matching `branch_office`</span>
<span class="no">dfr_stages</span>$<span class="no">p1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/links.html">links</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span>(<span class="no">dfr_stages</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"hair_colour"</span>, <span class="st">"branch_office"</span>)]))
<span class="co"># Matching `branch_office` before matching `hair_colour`</span>
<span class="no">dfr_stages</span>$<span class="no">p2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/links.html">links</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span>(<span class="no">dfr_stages</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"branch_office"</span>, <span class="st">"hair_colour"</span>)]))
<span class="no">dfr_stages</span>
<span class="co">#&gt;   age hair_colour     branch_office source_1            p1            p2</span>
<span class="co">#&gt; 1  30       Brown Republic of Ghana        A P.1 (CRI 001) P.1 (CRI 001)</span>
<span class="co">#&gt; 2  30        Teal            France        A P.4 (CRI 002) P.2 (CRI 001)</span>
<span class="co">#&gt; 3  30        &lt;NA&gt;              &lt;NA&gt;        A P.3 (No hits) P.3 (No hits)</span>
<span class="co">#&gt; 4  30       Green              &lt;NA&gt;        B P.4 (CRI 001) P.2 (CRI 002)</span>
<span class="co">#&gt; 5  30       Green            France        A P.4 (CRI 001) P.2 (CRI 001)</span>
<span class="co">#&gt; 6  30  Dark brown             Ghana        A P.6 (No hits) P.6 (No hits)</span>
<span class="co">#&gt; 7  30       Brown Republic of Ghana        B P.1 (CRI 001) P.1 (CRI 001)</span></pre></body></html></div>
<p>Aside from an <code><a href="../reference/predefined_tests.html">exact_match()</a></code>, user-defined comparisons are also possible using a <code>sub_criteria</code> object. These are <code>S3</code> objects that contains an entity’s attributes and the functions to compare them. They either relax or strengthen the match criteria. See the example below.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="co"># A function to extract the last word in a string</span>
<span class="no">last_word_wf</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">x</span>) <span class="fu"><a href="https://rdrr.io/r/base/chartr.html">tolower</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span>(<span class="st">"^.* "</span>, <span class="st">""</span>, <span class="no">x</span>))
<span class="co"># A logical test using `last_word_wf`.</span>
<span class="no">last_word_cmp</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">x</span>, <span class="no">y</span>) <span class="fu">last_word_wf</span>(<span class="no">x</span>) <span class="kw">==</span> <span class="fu">last_word_wf</span>(<span class="no">y</span>)
<span class="co"># sub_critria` objects</span>
<span class="no">s_cri_a</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sub_criteria.html">sub_criteria</a></span>(<span class="no">dfr_stages</span>$<span class="no">hair_colour</span>, <span class="no">dfr_stages</span>$<span class="no">branch_office</span>,
                        <span class="kw">match_funcs</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">last_word_cmp</span>, <span class="no">last_word_cmp</span>), <span class="kw">operator</span> <span class="kw">=</span> <span class="st">"or"</span>)
<span class="no">s_cri_b</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sub_criteria.html">sub_criteria</a></span>(<span class="no">dfr_stages</span>$<span class="no">hair_colour</span>, <span class="no">dfr_stages</span>$<span class="no">branch_office</span>,
                        <span class="kw">match_funcs</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">last_word_cmp</span>, <span class="no">last_word_cmp</span>), <span class="kw">operator</span> <span class="kw">=</span> <span class="st">"and"</span>)

<span class="no">dfr_stages</span>$<span class="no">p3</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/links.html">links</a></span>(<span class="st">"place_holder"</span>, <span class="kw">sub_criteria</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"cr1"</span> <span class="kw">=</span> <span class="no">s_cri_a</span>), <span class="kw">recursive</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="no">dfr_stages</span>$<span class="no">p4</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/links.html">links</a></span>(<span class="st">"place_holder"</span>, <span class="kw">sub_criteria</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"cr1"</span> <span class="kw">=</span> <span class="no">s_cri_b</span>), <span class="kw">recursive</span> <span class="kw">=</span> <span class="fl">TRUE</span>)</pre></body></html></div>
<p><code>sub_criteria</code> can be nested to achieve a nested matching criteria.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="no">s_cri_nested_1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sub_criteria.html">sub_criteria</a></span>(<span class="no">s_cri_a</span>, <span class="no">s_cri_b</span>, <span class="kw">operator</span> <span class="kw">=</span> <span class="st">"or"</span>)
<span class="no">s_cri_nested_2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sub_criteria.html">sub_criteria</a></span>(<span class="no">dfr_stages</span>$<span class="no">source_1</span>, <span class="no">s_cri_b</span>, <span class="kw">operator</span> <span class="kw">=</span> <span class="st">"or"</span>)
<span class="no">dfr_stages</span>$<span class="no">p5</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/links.html">links</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"place_holder"</span>, <span class="no">dfr_stages</span>$<span class="no">age</span>),
                   <span class="kw">sub_criteria</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"cr1"</span> <span class="kw">=</span> <span class="no">s_cri_nested_1</span>,
                                       <span class="st">"cr2"</span> <span class="kw">=</span> <span class="no">s_cri_nested_2</span>))</pre></body></html></div>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="co"># Results</span>
<span class="no">dfr_stages</span>
<span class="co">#&gt;   age hair_colour     branch_office source_1            p1            p2</span>
<span class="co">#&gt; 1  30       Brown Republic of Ghana        A P.1 (CRI 001) P.1 (CRI 001)</span>
<span class="co">#&gt; 2  30        Teal            France        A P.4 (CRI 002) P.2 (CRI 001)</span>
<span class="co">#&gt; 3  30        &lt;NA&gt;              &lt;NA&gt;        A P.3 (No hits) P.3 (No hits)</span>
<span class="co">#&gt; 4  30       Green              &lt;NA&gt;        B P.4 (CRI 001) P.2 (CRI 002)</span>
<span class="co">#&gt; 5  30       Green            France        A P.4 (CRI 001) P.2 (CRI 001)</span>
<span class="co">#&gt; 6  30  Dark brown             Ghana        A P.6 (No hits) P.6 (No hits)</span>
<span class="co">#&gt; 7  30       Brown Republic of Ghana        B P.1 (CRI 001) P.1 (CRI 001)</span>
<span class="co">#&gt;              p3            p4            p5</span>
<span class="co">#&gt; 1 P.1 (CRI 001) P.1 (CRI 001) P.1 (CRI 001)</span>
<span class="co">#&gt; 2 P.2 (CRI 001) P.2 (No hits) P.2 (CRI 001)</span>
<span class="co">#&gt; 3 P.3 (No hits) P.3 (No hits) P.1 (CRI 002)</span>
<span class="co">#&gt; 4 P.2 (CRI 001) P.4 (No hits) P.1 (CRI 002)</span>
<span class="co">#&gt; 5 P.2 (CRI 001) P.5 (No hits) P.2 (CRI 001)</span>
<span class="co">#&gt; 6 P.1 (CRI 001) P.1 (CRI 001) P.1 (CRI 001)</span>
<span class="co">#&gt; 7 P.1 (CRI 001) P.1 (CRI 001) P.1 (CRI 001)</span></pre></body></html></div>
</div>
<div id="link_records" class="section level2">
<h2 class="hasAnchor">
<a href="#link_records" class="anchor"></a>link_records</h2>
<p>Is primarily used for probabilistic record linkage. Record-pairs are generated and compared for matches. Matches can be weighted to allow for imperfect matches. Match probabilities are then calculated and used to assign a match score.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">dfr_5</span> <span class="kw">&lt;-</span> <span class="no">missing_staff_id</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">6</span>)]

<span class="co"># Using string comparators</span>
<span class="co"># For example, matching last word in `hair_colour` and `branch_office`</span>
<span class="no">last_word_wf</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">x</span>) <span class="fu"><a href="https://rdrr.io/r/base/chartr.html">tolower</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span>(<span class="st">"^.* "</span>, <span class="st">""</span>, <span class="no">x</span>))
<span class="no">last_word_cmp</span> <span class="kw">&lt;-</span> <span class="kw">function</span>(<span class="no">x</span>, <span class="no">y</span>) <span class="fu">last_word_wf</span>(<span class="no">x</span>) <span class="kw">==</span> <span class="fu">last_word_wf</span>(<span class="no">y</span>)

<span class="no">p6a</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/link_records.html">link_records</a></span>(<span class="no">dfr_5</span>, <span class="kw">attr_threshold</span> <span class="kw">=</span> <span class="fl">1</span>,
                           <span class="kw">cmp_func</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">exact_match</span>, <span class="no">exact_match</span>,
                                        <span class="no">last_word_cmp</span>, <span class="no">last_word_cmp</span>),
                           <span class="kw">score_threshold</span> <span class="kw">=</span> -<span class="fl">4</span>)
<span class="co"># Group identifiers</span>
<span class="no">p6a</span>$<span class="no">pid</span>
<span class="co">#&gt; [1] "P.1 (CRI 001)" "P.2 (No hits)" "P.3 (No hits)" "P.4 (No hits)"</span>
<span class="co">#&gt; [5] "P.5 (No hits)" "P.1 (CRI 001)" "P.1 (CRI 001)"</span>

<span class="co"># Weights</span>
<span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span>(<span class="no">p6a</span>$<span class="no">pid_weights</span>, <span class="no">record.match</span>)
<span class="co">#&gt;    sn_x sn_y cmp.staff_id cmp.initials cmp.hair_colour cmp.branch_office</span>
<span class="co">#&gt; 5     1    6            0            1               1                 1</span>
<span class="co">#&gt; 6     1    7            0            1               1                 1</span>
<span class="co">#&gt; 21    6    7            1            1               1                 1</span>
<span class="co">#&gt;    cmp.weight prb.staff_id prb.initials prb.hair_colour prb.branch_office</span>
<span class="co">#&gt; 5           3    -3.358454     1.074391        4.466709          4.466709</span>
<span class="co">#&gt; 6           3    -3.358454     1.074391        1.659354          1.659354</span>
<span class="co">#&gt; 21          4     1.659354     1.074391        4.466709          4.466709</span>
<span class="co">#&gt;    prb.weight record.match</span>
<span class="co">#&gt; 5    6.649355         TRUE</span>
<span class="co">#&gt; 6    1.034645         TRUE</span>
<span class="co">#&gt; 21  11.667162         TRUE</span></pre></body></html></div>
<p>The required number of record-pairs doubles exponentially as the size of the dataset increases. This becomes memory intensive with very large datasets. Arguments such as <code>blocking_attribute</code>, <code>repeats_allowed</code>, <code>permutations_allowed</code> and <code>data_source</code> are used to limit the amount of record-pairs created.</p>
</div>
<div id="links_wf_probabilistic" class="section level2">
<h2 class="hasAnchor">
<a href="#links_wf_probabilistic" class="anchor"></a>links_wf_probabilistic</h2>
<p>Also primarily used for probabilistic record linkage. <code><a href="../reference/link_records.html">links_wf_probabilistic()</a></code> is a wrapper function of <code><a href="../reference/links.html">links()</a></code> and an alternative to <code><a href="../reference/link_records.html">link_records()</a></code>. It’s less memory intensive but can be slower in comparison.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="no">p6b</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/link_records.html">links_wf_probabilistic</a></span>(<span class="no">dfr_5</span>, <span class="kw">attr_threshold</span> <span class="kw">=</span> <span class="fl">1</span>,
                              <span class="kw">cmp_func</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">exact_match</span>, <span class="no">exact_match</span>,
                                           <span class="no">last_word_cmp</span>, <span class="no">last_word_cmp</span>),
                              <span class="kw">score_threshold</span> <span class="kw">=</span> -<span class="fl">4</span>,
                              <span class="kw">recursive</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="co"># Group identifiers</span>
<span class="no">p6b</span>$<span class="no">pid</span>
<span class="co">#&gt; [1] "P.1 (CRI 001)" "P.2 (No hits)" "P.3 (No hits)" "P.4 (No hits)"</span>
<span class="co">#&gt; [5] "P.5 (No hits)" "P.1 (CRI 001)" "P.1 (CRI 001)"</span>

<span class="co"># Weights</span>
<span class="fu"><a href="https://rdrr.io/r/base/subset.html">subset</a></span>(<span class="no">p6b</span>$<span class="no">pid_weights</span>, <span class="no">record.match</span>)
<span class="co">#&gt;   sn_x sn_y cmp.staff_id cmp.initials cmp.hair_colour cmp.branch_office</span>
<span class="co">#&gt; 1    1    1            0            1               1                 1</span>
<span class="co">#&gt; 6    6    1            0            1               1                 1</span>
<span class="co">#&gt; 7    7    1            0            1               1                 1</span>
<span class="co">#&gt;   cmp.weight prb.staff_id prb.initials prb.hair_colour prb.branch_office</span>
<span class="co">#&gt; 1          3    -4.321928     1.148392        1.733354          1.733354</span>
<span class="co">#&gt; 6          3    -3.836501     1.148392        4.466709          4.466709</span>
<span class="co">#&gt; 7          3    -3.836501     1.148392        1.733354          1.733354</span>
<span class="co">#&gt;   prb.weight record.match</span>
<span class="co">#&gt; 1  0.2931724         TRUE</span>
<span class="co">#&gt; 6  6.2453079         TRUE</span>
<span class="co">#&gt; 7  0.7785993         TRUE</span></pre></body></html></div>
<p>Here, a final selection is made at each iteration. Therefore, an acceptable <code>score_threshold</code> is required in advance. To help with this, <code><a href="../reference/link_records.html">prob_score_range()</a></code> can be used to return the range of scores attainable for a given set of attributes and, <code>m</code> and <code>u</code>-probabilities. Additionally, <code>id_1</code> and <code>id_2</code> can be used to compare specific records-pairs, aiding the review of potential scores.</p>
</div>
</div>
<div id="case-definitions" class="section level1">
<h1 class="hasAnchor">
<a href="#case-definitions" class="anchor"></a>Case definitions</h1>
<div id="episodes" class="section level2">
<h2 class="hasAnchor">
<a href="#episodes" class="anchor"></a>episodes</h2>
<p>Primarily used for contact and network analysis. <code><a href="../reference/episodes.html">episodes()</a></code> is designed to compare dated records (events) and assign them to unique groups (episodes) based on the duration between events. Three type of episodes are possible; fixed, rolling and recursive episodes (Figure 1). A fixed episode is a set of events within a defined period before or after an index event. A rolling episode is a repeating series of fixed episodes linked together as recurrences. A recursive episode is a rolling episode where every event serves as an index event.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">dfr_2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>:<span class="fl">5</span>, <span class="fl">10</span>:<span class="fl">15</span>, <span class="fl">20</span>:<span class="fl">25</span>)
<span class="no">dfr_2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">date</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span>(<span class="st">"2020-01-01"</span>) + <span class="no">dfr_2</span>)
<span class="no">dfr_2</span>$<span class="no">ep1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/episodes.html">episodes</a></span>(<span class="no">dfr_2</span>$<span class="no">date</span>, <span class="kw">case_length</span> <span class="kw">=</span> <span class="fl">5</span>, <span class="kw">episode_type</span> <span class="kw">=</span> <span class="st">"fixed"</span>)
<span class="no">dfr_2</span>$<span class="no">ep2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/episodes.html">episodes</a></span>(<span class="no">dfr_2</span>$<span class="no">date</span>, <span class="kw">case_length</span> <span class="kw">=</span> <span class="fl">5</span>, <span class="kw">episode_type</span> <span class="kw">=</span> <span class="st">"rolling"</span>)
<span class="no">dfr_2</span>$<span class="no">ep3</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/episodes.html">episodes</a></span>(<span class="no">dfr_2</span>$<span class="no">date</span>, <span class="kw">case_length</span> <span class="kw">=</span> <span class="fl">5</span>, <span class="kw">episode_type</span> <span class="kw">=</span> <span class="st">"recursive"</span>)
<span class="no">dfr_2</span>
<span class="co">#&gt;          date      ep1     ep2     ep3</span>
<span class="co">#&gt; 1  2020-01-02 E.01 (C) E.1 (C) E.1 (C)</span>
<span class="co">#&gt; 2  2020-01-03 E.01 (D) E.1 (D) E.1 (D)</span>
<span class="co">#&gt; 3  2020-01-04 E.01 (D) E.1 (D) E.1 (D)</span>
<span class="co">#&gt; 4  2020-01-05 E.01 (D) E.1 (D) E.1 (D)</span>
<span class="co">#&gt; 5  2020-01-06 E.01 (D) E.1 (D) E.1 (D)</span>
<span class="co">#&gt; 6  2020-01-11 E.06 (C) E.1 (R) E.1 (R)</span>
<span class="co">#&gt; 7  2020-01-12 E.06 (D) E.1 (R) E.1 (R)</span>
<span class="co">#&gt; 8  2020-01-13 E.06 (D) E.1 (D) E.1 (D)</span>
<span class="co">#&gt; 9  2020-01-14 E.06 (D) E.1 (D) E.1 (D)</span>
<span class="co">#&gt; 10 2020-01-15 E.06 (D) E.1 (D) E.1 (D)</span>
<span class="co">#&gt; 11 2020-01-16 E.06 (D) E.1 (D) E.1 (D)</span>
<span class="co">#&gt; 12 2020-01-21 E.12 (C) E.1 (R) E.1 (R)</span>
<span class="co">#&gt; 13 2020-01-22 E.12 (D) E.1 (R) E.1 (R)</span>
<span class="co">#&gt; 14 2020-01-23 E.12 (D) E.1 (D) E.1 (D)</span>
<span class="co">#&gt; 15 2020-01-24 E.12 (D) E.1 (D) E.1 (D)</span>
<span class="co">#&gt; 16 2020-01-25 E.12 (D) E.1 (D) E.1 (D)</span>
<span class="co">#&gt; 17 2020-01-26 E.12 (D) E.1 (D) E.1 (D)</span></pre></body></html></div>
<p><strong>Figure 1: Episodes.</strong></p>
<p><img src="fig_o1.png" width="700" height="580"></p>
<p>There are several options to determine which records are used as the index event, how many index events are used, how many durations from the index events are assessed, the nature of recurrences where applicable and additional matching criteria through <code>sub_criteria</code> objects as described above. See <code><a href="../reference/episodes.html">help(episodes)</a></code> for more details about these. Also useful is <code><a href="../reference/episodes_wf_splits.html">episodes_wf_splits()</a></code> - a wrapper function of <code><a href="../reference/episodes.html">episodes()</a></code> which is better optimised for analyses with duplicate records.</p>
</div>
<div id="partitions" class="section level2">
<h2 class="hasAnchor">
<a href="#partitions" class="anchor"></a>partitions</h2>
<p><code><a href="../reference/partitions.html">partitions()</a></code> assigns events to groups (panes) if they are within a defined interval (Figure 2). Unlike <code><a href="../reference/episodes.html">episodes()</a></code>, the duration between events is not a factor. Here, events from the same pane simply occurred within the same interval. See the example below.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">event_dt</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span>(<span class="kw">from</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span>(<span class="st">"2021-01-01"</span>), <span class="kw">to</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span>(<span class="st">"2021-01-11"</span>), <span class="kw">by</span> <span class="kw">=</span> <span class="fl">1</span>)
<span class="no">dfr_3</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">date</span> <span class="kw">=</span> <span class="no">event_dt</span>)

<span class="co"># Group events into 2 equal parts per `strata`.</span>
<span class="no">dfr_3</span>$<span class="no">pn2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/partitions.html">partitions</a></span>(<span class="no">event_dt</span>, <span class="kw">length.out</span> <span class="kw">=</span> <span class="fl">2</span>, <span class="kw">separate</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="co"># Group events into 3-day sequences per `strata`.</span>
<span class="no">dfr_3</span>$<span class="no">pn3</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/partitions.html">partitions</a></span>(<span class="no">event_dt</span>, <span class="kw">by</span> <span class="kw">=</span> <span class="fl">3</span>, <span class="kw">separate</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="co"># Group events into a specified period of time in each `strata`.</span>
<span class="no">dfr_3</span>$<span class="no">pn4</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/partitions.html">partitions</a></span>(<span class="no">event_dt</span>, <span class="kw">window</span> <span class="kw">=</span> <span class="fu"><a href="../reference/number_line.html">number_line</a></span>(<span class="no">event_dt</span>[<span class="fl">4</span>], <span class="no">event_dt</span>[<span class="fl">7</span>]))
<span class="co"># Group events from separate periods into one pane.</span>
<span class="no">dfr_3</span>$<span class="no">pn5</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/partitions.html">partitions</a></span>(<span class="no">event_dt</span>, <span class="kw">length.out</span> <span class="kw">=</span> <span class="fl">2</span>, <span class="kw">separate</span> <span class="kw">=</span> <span class="fl">FALSE</span>)</pre></body></html></div>
<p><strong>Figure 2: Panes</strong></p>
<p><img src="fig_o2.png" width="700" height="400"></p>
</div>
</div>
<div id="other-useful-functions" class="section level1">
<h1 class="hasAnchor">
<a href="#other-useful-functions" class="anchor"></a>Other useful functions</h1>
<p>There are other supporting functions which are useful for common analytical tasks. Some of these are shown below.</p>
<div id="number_line" class="section level2">
<h2 class="hasAnchor">
<a href="#number_line" class="anchor"></a>number_line</h2>
<p>Produces a <code>number_line</code> object. This is an <code>S4</code> class representing two points of an interval. It’s covered in more detail in the <a href="number_line.html"><code>number_line</code> and overlaps vignette</a>. It’s useful when tracking episodes from periods in time as opposed to points in time. See an example of this below.</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="no">hospital_admissions</span>)
<span class="no">dfr_4</span> <span class="kw">&lt;-</span> <span class="no">hospital_admissions</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"admin_dt"</span>, <span class="st">"discharge_dt"</span>)]
<span class="no">dfr_4</span>$<span class="no">admin_period</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/number_line.html">number_line</a></span>(<span class="no">dfr_4</span>$<span class="no">admin_dt</span>, <span class="no">dfr_4</span>$<span class="no">discharge_dt</span>)

<span class="co"># Group overlapping hospital stays</span>
<span class="no">dfr_4</span>$<span class="no">nl1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/windows.html">index_window</a></span>(<span class="no">dfr_4</span>$<span class="no">admin_period</span>)
<span class="no">dfr_4</span>$<span class="no">ep4</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/episodes.html">episodes</a></span>(<span class="kw">date</span> <span class="kw">=</span> <span class="no">dfr_4</span>$<span class="no">admin_period</span>, <span class="kw">case_length</span> <span class="kw">=</span> <span class="no">dfr_4</span>$<span class="no">nl1</span>)

<span class="co"># Group overlapping hospital stays and those within 21 days of the end point of an index hospital stay </span>
<span class="no">dfr_4</span>$<span class="no">nl2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/number_line.html">expand_number_line</a></span>(<span class="fu"><a href="../reference/windows.html">index_window</a></span>(<span class="no">dfr_4</span>$<span class="no">admin_period</span>), <span class="fl">20</span>, <span class="st">"right"</span>)
<span class="no">dfr_4</span>$<span class="no">ep5</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/episodes.html">episodes</a></span>(<span class="kw">date</span> <span class="kw">=</span> <span class="no">dfr_4</span>$<span class="no">admin_period</span>, <span class="kw">case_length</span> <span class="kw">=</span>  <span class="no">dfr_4</span>$<span class="no">nl2</span>)</pre></body></html></div>
<p>They can also be used as an attribute in a <code>sub_criteria</code> object.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">s_cri_c</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sub_criteria.html">sub_criteria</a></span>(<span class="no">dfr_4</span>$<span class="no">admin_period</span>, <span class="kw">match_funcs</span> <span class="kw">=</span> <span class="no">overlaps</span>)
<span class="no">dfr_4</span>$<span class="no">pd5</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/links.html">links</a></span>(<span class="st">"place_holder"</span>, <span class="kw">sub_criteria</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">"cr1"</span> <span class="kw">=</span> <span class="no">s_cri_c</span>), <span class="kw">recursive</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="co"># Results</span>
<span class="no">dfr_4</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"admin_period"</span>, <span class="st">"nl1"</span>, <span class="st">"nl2"</span>, <span class="st">"ep4"</span>, <span class="st">"ep5"</span>, <span class="st">"pd5"</span>)]
<span class="co">#&gt;                admin_period      nl1       nl2     ep4     ep5           pd5</span>
<span class="co">#&gt; 1  2019-01-01 == 2019-01-01   0 == 0   0 -&gt; 20 E.2 (D) E.2 (D) P.1 (CRI 001)</span>
<span class="co">#&gt; 2  2019-01-01 -&gt; 2019-01-10  -9 -&gt; 0  -9 -&gt; 20 E.2 (C) E.2 (C) P.1 (CRI 001)</span>
<span class="co">#&gt; 3  2019-01-10 -&gt; 2019-01-13  -3 -&gt; 0  -3 -&gt; 20 E.2 (D) E.2 (D) P.1 (CRI 001)</span>
<span class="co">#&gt; 4  2019-01-05 -&gt; 2019-01-06  -1 -&gt; 0  -1 -&gt; 20 E.2 (D) E.2 (D) P.1 (CRI 001)</span>
<span class="co">#&gt; 5  2019-01-05 -&gt; 2019-01-15 -10 -&gt; 0 -10 -&gt; 20 E.2 (D) E.2 (D) P.1 (CRI 001)</span>
<span class="co">#&gt; 6  2019-01-07 -&gt; 2019-01-15  -8 -&gt; 0  -8 -&gt; 20 E.2 (D) E.2 (D) P.1 (CRI 001)</span>
<span class="co">#&gt; 7  2019-01-04 -&gt; 2019-01-13  -9 -&gt; 0  -9 -&gt; 20 E.2 (D) E.2 (D) P.1 (CRI 001)</span>
<span class="co">#&gt; 8  2019-01-20 -&gt; 2019-01-30 -10 -&gt; 0 -10 -&gt; 20 E.8 (C) E.2 (D) P.9 (CRI 001)</span>
<span class="co">#&gt; 9  2019-01-26 -&gt; 2019-01-31  -5 -&gt; 0  -5 -&gt; 20 E.8 (D) E.2 (D) P.9 (CRI 001)</span>
<span class="co">#&gt; 10 2019-01-01 -&gt; 2019-01-10  -9 -&gt; 0  -9 -&gt; 20 E.2 (D) E.2 (D) P.1 (CRI 001)</span>
<span class="co">#&gt; 11 2019-01-20 -&gt; 2019-01-30 -10 -&gt; 0 -10 -&gt; 20 E.8 (D) E.2 (D) P.9 (CRI 001)</span></pre></body></html></div>
</div>
<div id="make_pairs" class="section level2">
<h2 class="hasAnchor">
<a href="#make_pairs" class="anchor"></a>make_pairs</h2>
<p><code><a href="../reference/make_pairs.html">make_pairs()</a></code> creates record pairs.</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">prs_1</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/make_pairs.html">make_pairs</a></span>(<span class="no">LETTERS</span>[<span class="fl">1</span>:<span class="fl">4</span>], <span class="kw">repeats_allowed</span> <span class="kw">=</span> <span class="fl">FALSE</span>, <span class="kw">permutations_allowed</span> <span class="kw">=</span> <span class="fl">FALSE</span>)
<span class="no">prs_2</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/make_pairs.html">make_pairs</a></span>(<span class="no">LETTERS</span>[<span class="fl">1</span>:<span class="fl">4</span>], <span class="kw">repeats_allowed</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">permutations_allowed</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="no">prs_3</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/make_pairs.html">make_pairs</a></span>(<span class="fl">1</span>:<span class="fl">5000</span>, <span class="kw">repeats_allowed</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">permutations_allowed</span> <span class="kw">=</span> <span class="fl">TRUE</span>)

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">prs_1</span>)
<span class="co">#&gt; List of 4</span>
<span class="co">#&gt;  $ x_pos: int [1:6] 1 1 1 2 2 3</span>
<span class="co">#&gt;  $ y_pos: int [1:6] 2 3 4 3 4 4</span>
<span class="co">#&gt;  $ x_val: chr [1:6] "A" "A" "A" "B" ...</span>
<span class="co">#&gt;  $ y_val: chr [1:6] "B" "C" "D" "C" ...</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">prs_2</span>)
<span class="co">#&gt; List of 4</span>
<span class="co">#&gt;  $ x_pos: int [1:16] 1 1 1 1 2 2 2 2 3 3 ...</span>
<span class="co">#&gt;  $ y_pos: int [1:16] 1 2 3 4 1 2 3 4 1 2 ...</span>
<span class="co">#&gt;  $ x_val: chr [1:16] "A" "A" "A" "A" ...</span>
<span class="co">#&gt;  $ y_val: chr [1:16] "A" "B" "C" "D" ...</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">prs_3</span>)
<span class="co">#&gt; List of 4</span>
<span class="co">#&gt;  $ x_pos: int [1:25000000] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ y_pos: int [1:25000000] 1 2 3 4 5 6 7 8 9 10 ...</span>
<span class="co">#&gt;  $ x_val: int [1:25000000] 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ y_val: int [1:25000000] 1 2 3 4 5 6 7 8 9 10 ...</span></pre></body></html></div>
</div>
<div id="combi" class="section level2">
<h2 class="hasAnchor">
<a href="#combi" class="anchor"></a>combi</h2>
<p><code><a href="../reference/combi.html">combi()</a></code> creates numeric codes for unique combination of vectors. This aims to be a faster alternative to <code>paste0</code> when it’s more relevant to know a unique combination instead of the exact combination.</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="no">cmbi_dfr</span> <span class="kw">&lt;-</span> <span class="no">dfr_stages</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">2</span>)]
<span class="no">cmbi_dfr</span>$<span class="no">combi_nm</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span>(<span class="no">cmbi_dfr</span><span class="kw">[[</span><span class="fl">1</span>]], <span class="no">cmbi_dfr</span><span class="kw">[[</span><span class="fl">2</span>]])
<span class="no">cmbi_dfr</span>$<span class="no">combi_cd</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/combi.html">combi</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span>(<span class="no">cmbi_dfr</span>))
<span class="no">cmbi_dfr</span>
<span class="co">#&gt;   age hair_colour      combi_nm combi_cd</span>
<span class="co">#&gt; 1  30       Brown      30 Brown        1</span>
<span class="co">#&gt; 2  30        Teal       30 Teal        2</span>
<span class="co">#&gt; 3  30        &lt;NA&gt;         30 NA        3</span>
<span class="co">#&gt; 4  30       Green      30 Green        4</span>
<span class="co">#&gt; 5  30       Green      30 Green        4</span>
<span class="co">#&gt; 6  30  Dark brown 30 Dark brown        5</span>
<span class="co">#&gt; 7  30       Brown      30 Brown        1</span></pre></body></html></div>
</div>
</div>
<div id="processing-time" class="section level1">
<h1 class="hasAnchor">
<a href="#processing-time" class="anchor"></a>Processing time</h1>
<p><code><a href="../reference/episodes.html">episodes()</a></code> and <code><a href="../reference/links.html">links()</a></code> are iterative functions. Although both continue to be optimised, each iteration costs additional processing time. The main way to mitigate this is to reduce the number of iterations required to complete an analysis. To help with this, both functions have arguments which ensure that only the minimum number of records required to complete the process is used.</p>
<p>The flexibility of <code><a href="../reference/episodes.html">episodes()</a></code> and <code><a href="../reference/links.html">links()</a></code> results in situations where the use of different arguments will lead to the same outcome. However, one combination will usually require fewer iterations to complete the same process. Therefore, a good grasp of the role of each argument is useful in knowing the most efficient combination of arguments to use.</p>
<p>In some analyses, <code><a href="../reference/episodes.html">episodes()</a></code> and <code><a href="../reference/links.html">links()</a></code> can be used interchangeably however, one is usually less efficient in each situation. For example, identifiers <code>dfr_4$ep4</code> and <code>dfr_4$pd5</code> are essentially the same outcome; 2 groups with the same set of records in each. However, we can see below that <code><a href="../reference/episodes.html">episodes()</a></code> created <code>dfr_4$ep4</code> in 2 iterations compared to the 7 iterations it took <code><a href="../reference/links.html">links()</a></code> to create <code>dfr_4$ep4</code>.</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">dfr_4</span>$<span class="no">ep4</span>)
<span class="co">#&gt; Iterations:                     2</span>
<span class="co">#&gt; Total records:                  11</span>
<span class="co">#&gt;  by record type:</span>
<span class="co">#&gt;      Case:                2</span>
<span class="co">#&gt;      Duplicate_C:         9</span>
<span class="co">#&gt; Total episodes:                 2</span>
<span class="co">#&gt;  by episode type:</span>
<span class="co">#&gt;      Fixed:               2</span>
<span class="co">#&gt;  by episode dataset:</span>
<span class="co">#&gt;      N/A</span>
<span class="co">#&gt;  by episodes duration:</span>
<span class="co">#&gt;      N/A</span>
<span class="co">#&gt;  by records per episode:</span>
<span class="co">#&gt;      3 records:           1</span>
<span class="co">#&gt;      8 records:           1</span>
<span class="co">#&gt;  by recurrence:</span>
<span class="co">#&gt;      N/A</span>

<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">dfr_4</span>$<span class="no">pd5</span>)
<span class="co">#&gt; Iterations:                     7</span>
<span class="co">#&gt; Total records:                  11</span>
<span class="co">#&gt;  by matching criteria:</span>
<span class="co">#&gt;      Criteria 1:          11</span>
<span class="co">#&gt; Total record groups:                 2</span>
<span class="co">#&gt;  by group dataset:</span>
<span class="co">#&gt;      N/A</span>
<span class="co">#&gt;  by records per group:</span>
<span class="co">#&gt;      3 records:           1</span>
<span class="co">#&gt;      8 records:           1</span></pre></body></html></div>
<p>It’s also worth noting that using a <code>sub_criteria</code> can cost a lot in processing time. Therefore, it should not be used if it can be avoided. For example, <code>dfr_stages$p4</code> was created using <code>sub_cri_b</code> which took 6 iterations. However, the same outcome can be achieved in 1 iteration with a <code>criteria</code>. See the difference below.</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="no">dfr_stages</span>$<span class="no">p4b</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/links.html">links</a></span>(<span class="kw">criteria</span> <span class="kw">=</span> <span class="fu"><a href="../reference/combi.html">combi</a></span>(<span class="fu">last_word_wf</span>(<span class="no">dfr_stages</span>$<span class="no">hair_colour</span>),
                                         <span class="fu">last_word_wf</span>(<span class="no">dfr_stages</span>$<span class="no">branch_office</span>)))

<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">dfr_stages</span>$<span class="no">p4b</span>)
<span class="co">#&gt; Iterations:                     1</span>
<span class="co">#&gt; Total records:                  7</span>
<span class="co">#&gt;  by matching criteria:</span>
<span class="co">#&gt;      Criteria 1:          3</span>
<span class="co">#&gt;      No hits:             4</span>
<span class="co">#&gt; Total record groups:                 5</span>
<span class="co">#&gt;  by group dataset:</span>
<span class="co">#&gt;      N/A</span>
<span class="co">#&gt;  by records per group:</span>
<span class="co">#&gt;      1 record:            4</span>
<span class="co">#&gt;      3 records:           1</span>

<span class="fu"><a href="https://rdrr.io/r/base/all.html">all</a></span>(<span class="no">dfr_stages</span>$<span class="no">p4</span> <span class="kw">==</span> <span class="no">dfr_stages</span>$<span class="no">p4b</span>)
<span class="co">#&gt; [1] TRUE</span></pre></body></html></div>
<p>The time differences from these different iterations are negligible when dealing with relatively small datasets but become more apparent as the size increases.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Olisaeloka Nsonwu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
