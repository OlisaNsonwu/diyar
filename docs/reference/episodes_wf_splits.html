<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Track episodes in a reduced dataset. — episodes_wf_splits • diyar</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Track episodes in a reduced dataset. — episodes_wf_splits" />
<meta property="og:description" content="Excludes duplicate records from the same day or period prior before passing the analysis to episodes.
Only duplicate records that will not affect the case definition are excluded.
The resulting episode identifiers are recycled for the duplicate records." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">diyar</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/episodes.html">Introduction to epidemiological case definitions with diyar</a>
    </li>
    <li>
      <a href="../articles/links.html">Introduction to record linkage with diyar</a>
    </li>
    <li>
      <a href="../articles/number_line.html">number_line and overlaps</a>
    </li>
    <li>
      <a href="../articles/overview.html">diyar at a glance</a>
    </li>
    <li>
      <a href="../articles/panes.html">Divvy up events with partitions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/OlisaNsonwu/diyar/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Track episodes in a reduced dataset.</h1>
    <small class="dont-index">Source: <a href='https://github.com/OlisaNsonwu/diyar/blob/master/R/episodes.R'><code>R/episodes.R</code></a></small>
    <div class="hidden name"><code>episodes_wf_splits.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Excludes duplicate records from the same day or period prior before passing the analysis to <code><a href='episodes.html'>episodes</a></code>.
Only duplicate records that will not affect the case definition are excluded.
The resulting episode identifiers are recycled for the duplicate records.</p>
    </div>

    <pre class="usage"><span class='fu'>episodes_wf_splits</span>(<span class='no'>...</span>, <span class='kw'>duplicates_recovered</span> <span class='kw'>=</span> <span class='st'>"ANY"</span>, <span class='kw'>reframe</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>Arguments passed to <code><a href='episodes.html'>episodes</a></code>.</p></td>
    </tr>
    <tr>
      <th>duplicates_recovered</th>
      <td><p><code>[character]</code>. Determines which duplicate records are recycled.
Options are <code>"ANY"</code> (default), <code>"without_sub_criteria"</code>, <code>"with_sub_criteria"</code> or <code>"ALL"</code>. See <code>Details</code>.</p></td>
    </tr>
    <tr>
      <th>reframe</th>
      <td><p><code>[logical]</code>. Determines if the duplicate records in a <code><a href='sub_criteria.html'>sub_criteria</a></code> are reframed (<code>TRUE</code>) or excluded (<code>FALSE</code>).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code><a href='epid-class.html'>epid</a></code>; <code>list</code></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><b><code>episodes_wf_splits()</code></b> is a wrapper function of <b><code><a href='episodes.html'>episodes()</a></code></b> which reduces or re-frames the dataset to
the minimum number of records required to implement a case definition.
This leads to the same outcome but with the benefit of a shorter processing time.</p>
<p>Duplicate records from the same point or period in time are excluded from <b><code><a href='episodes.html'>episodes()</a></code></b>.
The resulting <code><a href='epid-class.html'>epid</a></code> object is then recycled for the duplicates.</p>
<p>The <code>duplicates_recovered</code> argument determines which identifiers are recycled.
If <code>"without_sub_criteria"</code> is selected, only identifiers created from a matched <code><a href='sub_criteria.html'>sub_criteria</a></code> (<code>"Case_CR"</code> and <code>"Recurrent_CR"</code>) are recycled.
The opposite (<code>"Case"</code> and <code>"Recurrent"</code>) is the case if <code>"with_sub_criteria"</code> is selected.
Excluded duplicates of <code>"Duplicate_C"</code> and <code>"Duplicate_R"</code> are always recycled.</p>
<p>The <code>reframe</code> argument will either <code><a href='reframe.html'>reframe</a></code> or subset a <code><a href='sub_criteria.html'>sub_criteria</a></code>.
Both will require slightly different functions for <code>match_funcs</code> or <code>equal_funcs</code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='episodes.html'>episodes</a></code>; <code><a href='sub_criteria.html'>sub_criteria</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># With 10,000 duplicate records of 20 events,</span>
<span class='co'># `episodes_wf_splits()` will take less time than `episodes()`</span>
<span class='no'>dates</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='kw'>from</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2019-04-01"</span>), <span class='kw'>to</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2019-04-20"</span>), <span class='kw'>by</span> <span class='kw'>=</span> <span class='fl'>1</span>)
<span class='no'>dates</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='no'>dates</span>, <span class='fl'>10000</span>)

<span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span>(
  <span class='no'>ep1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='episodes.html'>episodes</a></span>(<span class='no'>dates</span>, <span class='fl'>1</span>)
)</div><div class='output co'>#&gt;    user  system elapsed 
#&gt;    2.42    0.72    3.20 </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/system.time.html'>system.time</a></span>(
  <span class='no'>ep2</span> <span class='kw'>&lt;-</span> <span class='fu'>episodes_wf_splits</span>(<span class='no'>dates</span>, <span class='fl'>1</span>)
)</div><div class='output co'>#&gt;    user  system elapsed 
#&gt;    0.10    0.00    0.16 </div><div class='input'>
<span class='co'># Both leads to the same outcome.</span>
<span class='fu'><a href='https://rdrr.io/r/base/all.html'>all</a></span>(<span class='no'>ep1</span> <span class='kw'>==</span> <span class='no'>ep2</span>)</div><div class='output co'>#&gt; [1] TRUE</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Olisaeloka Nsonwu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


