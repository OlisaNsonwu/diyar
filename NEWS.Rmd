---
output: github_document
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```
#Version 0.1.0.9000
##New features

+ `overlap_methods` and `methods` arguments added to replace `overlap_method` and `method` respectively. When grouping episodes or collapsing `number_line` objects, `overlap_methods` and `methods` allow you to use different sets of methods for different subsets of a dataset. `overlap_method` and `method` could only use 1 set of methods per dataset.
+ New 'window' slot for `epid` objects. It shows the reference event for case and recurrence windows
    + Format of `epid` objects updated to show this window ID 
+ `recurrence_from_last` argument for `episode_group()` and `rolling_episodes()`. Determines if reference events are first or last event from the previous window.
+ `case_for_recurrence` argument for `episode_group()` and `rolling_episodes()`. Determines if recurrent events should have their own case windows or not.

##Changes

+ overlap methods has been changed such that each pair of `number_line` objects can only overlap in one way. Eg.
    + `"chain"` and `"aligns_end"` used to be possible but this is now considered a `"chain"` overlap  
    + `"aligns_start"` and `"aligns_end"` use to be possible but this is now considered an `"exact"` overlap
+ Output for `number_line_sequence()` is now a `list` object.
+ `number_line_sequence()` now works across multiple `number_line` objects.
+ `epid` objects are the default outputs of `fixed_episodes()`, `rolling_episodes()` and `episode_group()`
+ `pid` objects are the default outputs of `record_group()`
+ `episode_group()` and `record_group()` optimised. Runs just a little bit faster ...
+ Relaxed the requirement for `x` and `y` to have the same lengths in overlap functions.
    + The behaviour of overlap functions will now be the same as that of standard R logical tests 
+ `case_length` and `recurrence_length` arguments in `episode_group` accepts negative numbers. Negative numbers means that event periods will only be collapsed if only part of their periods overlap. For example, given two periods each 5 days long, they will only be collapsed if one period overlaps with the 3 days of the other.

##Bug fixes
+ Recurrence was not check if the initial case event had no duplicates. Resolved
+ `case_nm` wasn't right for rolling episodes. Resolved

#Version 0.0.3
##Changes
+ [#7](https://github.com/OlisaNsonwu/diyar/issues/7) `episode_group()`, `fixed_episodes()` and `rolling_episodes()` - optimized to take less time when working with large datasets
+ `episode_group()`, `fixed_episodes()` and `rolling_episodes()` - `date` argument now supports numeric values
+ `compress_number_line()` - the output (`gid` slot) is now a group identifier just like in `epid` objects (`epid_interval`)

#Version 0.0.2
##New feature
+ `pid` S4 object class for results of `record_group()`. This will replace the current default (`data.frame`) in the next major release
+ `epid` S4 object class for results of `episode_group()`, `fixed_episodes()` and `rolling_episodes()`. This will replace the current default (`data.frame`) in the next release
+ `to_s4()` and `to_s4` argument in `record_group()`, `episode_group()`, `fixed_episodes()` and `rolling_episodes()`. Changes their output from a `data.frame` (current default) to `epid` or `pid` objects
+ `to_df()` changes `epid` or `pid` objects to a `data.frame`
+ `deduplicate` argument from `fixed_episodes()` and `rolling_episodes()` added to `episode_group()`

##Changes
+ `fixed_episodes()` and `rolling_episodes()` are now wrapper functions of `episode_group()`. Functionality remains the same but now includes all arguments available to `episode_group()`
+ Changed the output of `fixed_episodes()` and `rolling_episodes()` from `number_line` to `data.frame`, pending the change to `epid` objects 
+ `pid_cri` column returned in `record_group` is now `numeric`. `0` indicates no match.
+ columns can now be used as `criteria` multiple times `record_group()`
+ [#6](https://github.com/OlisaNsonwu/diyar/issues/6) `number_line` objects can now be used as a `criteria` in `record_group()`

##Bug fixes
+ [#3](https://github.com/OlisaNsonwu/diyar/issues/3) - Resolved a bug with `episode_unit` in `episode_group()`
+ [#4](https://github.com/OlisaNsonwu/diyar/issues/4) - Resolved a bug with `bi_direction` in `episode_group()`

#Version 0.0.1
##Features
+ `fixed_episodes()` and `rolling_episodes()` - Group records into fixed or rolling episodes of events or period of events.
+ `episode_group()` - A more comprehensive implementation of `fixed_episodes()` and `rolling_episodes()`, with additional features such as user defined case assignment.
+ `record_group()` - Multistage deterministic linkage that addresses missing data.
+ `number_line` S4 object.
    + Used to represent a range of numeric values to match using `record_group()`
    + Used to represent a period in time to be grouped using `fixed_episodes()`, `rolling_episodes()` and `episode_group()`
    + Used as the returned output of `fixed_episodes()` and `rolling_episodes()`
